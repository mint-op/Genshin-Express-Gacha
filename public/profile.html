<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Profile</title>

    <!-- tab icon -->
    <link rel="icon" href="assets/img/logo.webp" />

    <!-- Bootstrap css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <!-- Bootstrap 5 -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="./css/style.css" />
    <!-- <link rel="stylesheet" href="./css/color.css" /> -->

    <style>
      .form-editMessage {
        max-width: 800px;
        padding: 1rem;
      }
    </style>
  </head>

  <body>
    <!-- Nav Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-md">
        <a class="navbar-brand" href="#">
          <img src="assets/img/logo.webp" alt="Logo" width="60" height="60" class="d-inline-block align-text-top" />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="end">
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="index.html" data-abc="true">Home</a>
              </li>
              <li class="nav-item"><a class="nav-link" href="task.html" data-abc="true">Tasks</a></li>
              <li class="nav-item">
                <a class="nav-link" id="playbtn" data-bs-toggle="modal" data-bs-target="#exampleModal" href="" data-abc="true">Play</a>
              </li>
              <li class="nav-item active">
                <a id="profileButton" href="" class="nav-link mt-2 clicked" data-abc="true">Profile</a>
              </li>
              <li class="nav-item">
                <a id="logoutButton" href="#" class="nav-link d-none">Logout</a>
              </li>
              <li class="nav-item">
                <a id="loginButton" href="login.html" class="nav-link">Login</a>
              </li>
              <li>
                <div class="btn-nav">
                  <a id="registerButton" class="btn text-bg-dark btn-small navbar-btn" href="register.html">Register!</a>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Disclaimer</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            All assets used on this platform belong to <span class="text-danger">miHoYo Co., Ltd.</span>, the creators of Genshin Impact. We
            do not claim ownership of any Genshin Impact assets, and all rights remain with miHoYo Co., Ltd. <br /><br />
            This platform is not affiliated with or endorsed by miHoYo Co., Ltd. Genshin Impact, its name, logo, and characters are
            trademarks of miHoYo Co., Ltd. Support the official release and respect miHoYo's intellectual property rights.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="window.location.href = 'loading.html?target=index_game'">Play</button>
          </div>
        </div>
      </div>
    </div>

    <!-- main -->
    <main class="main py-4">
      <div class="container pb-4">
        <!-- Show User Info -->
        <div class="row" id="showUserInfo">
          <div class="col-12">
            <h1 class="text-center">User Profile</h1>
          </div>
          <div id="userInfo" class="col-12"></div>
          <div class="col-12 pt-4">
            <h1 class="text-center">User's Messages</h1>
          </div>
          <div class="container">
            <div id="messageList" class="row"></div>
          </div>
        </div>
        <!-- Edit User Info -->
        <div class="row d-none" id="editUserInfo">
          <div class="col-12 pt-4">
            <h1 class="text-center">Edit User Profile</h1>
          </div>
          <div class="col-12">
            <div class="card">
              <div class="card-body">
                <form id="editUserForm">
                  <!-- Save Button (Not on small screens) -->
                  <div class="position-absolute top-0 end-0 p-2 hide-on-sm">
                    <button type="submit" class="btn btn-light">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="20"
                        fill="currentColor"
                        class="bi bi-check-square"
                        viewBox="0 0 16 20"
                      >
                        <path
                          d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"
                        />
                        <path
                          d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"
                        />
                      </svg>
                      Save
                    </button>
                  </div>
                  <!-- Username -->
                  <div class="row g-3 align-items-center mb-1">
                    <div class="col-auto">
                      <label for="username" class="col-form-label">Username</label>
                    </div>
                    <div class="col-auto">
                      <input type="text" id="username" class="form-control" style="background-color: #1b1d29" />
                    </div>
                  </div>
                  <!-- Email -->
                  <div class="row g-3 align-items-center mb-1">
                    <div class="col-auto">
                      <label for="email" class="col-form-label">Email</label>
                    </div>
                    <div class="col-auto">
                      <input type="email" id="email" class="form-control" style="background-color: #1b1d29" />
                    </div>
                  </div>
                  <!-- Password -->
                  <div class="row g-3 align-items-center">
                    <div class="col-auto">
                      <label for="currentPassword" class="col-form-label">Current Password</label>
                    </div>
                    <div class="col-auto">
                      <input type="password" id="currentPassword" class="form-control" style="background-color: #1b1d29" />
                    </div>
                  </div>
                  <!-- Save Button (On small screens) -->
                  <div class="row hide-on-lg pt-3 px-4">
                    <button type="submit" class="btn btn-primary">Save</button>
                  </div>
                </form>
                <div id="warningCard1" class="card border-danger mt-3 mb-3 d-none">
                  <div class="card-body text-danger">
                    <p id="warningText1" class="card-text"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Change Password -->
        <div class="row d-none" id="editUserPasswd">
          <div class="col-12 pt-4">
            <h1 class="text-center">Change Password</h1>
          </div>
          <div class="col-12">
            <div class="card">
              <div class="card-body">
                <form id="editUserPasswdForm">
                  <!-- Save Button (Not on small screens) -->
                  <div class="position-absolute top-0 end-0 p-2 hide-on-sm">
                    <button type="submit" class="btn btn-light">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="20"
                        fill="currentColor"
                        class="bi bi-check-square"
                        viewBox="0 0 16 20"
                      >
                        <path
                          d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"
                        />
                        <path
                          d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"
                        />
                      </svg>
                      Save
                    </button>
                  </div>
                  <!-- Old Password -->
                  <div class="row g-3 align-items-center mb-1">
                    <div class="col-auto">
                      <label for="password-old" class="col-form-label">Old Password</label>
                    </div>
                    <div class="col-auto">
                      <input type="password" id="password-old" class="form-control" style="background-color: #1b1d29" />
                    </div>
                  </div>
                  <!-- New Password -->
                  <div class="row g-3 align-items-center">
                    <div class="col-auto">
                      <label for="password-new" class="col-form-label">New Password</label>
                    </div>
                    <div class="col-auto">
                      <input type="password" id="password-new" class="form-control" style="background-color: #1b1d29" />
                    </div>
                  </div>
                  <!-- Save Button (On small screens) -->
                  <div class="row hide-on-lg pt-3 px-4">
                    <button type="submit" class="btn btn-primary">Save</button>
                  </div>
                </form>
                <div id="warningCard2" class="card border-danger mt-3 mb-3 d-none">
                  <div class="card-body text-danger">
                    <p id="warningText2" class="card-text"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Edit Message -->
        <div class="form-editMessage w-100 m-auto d-none" id="editMessage">
          <div class="row">
            <div class="col-12 pt-4">
              <h1 class="text-center">Edit Message</h1>
            </div>
            <div class="col-md">
              <form id="editMessageForm">
                <div class="mb-3">
                  <textarea class="form-control" id="editMessageBox" rows="4" style="background-color: #1b1d29"></textarea>
                </div>
                <div class="mb-3 text-center">
                  <button class="btn btn-secondary" type="reset">Cancel</button>
                  <button type="submit" class="btn btn-primary">Save</button>
                </div>
              </form>
              <div id="warningCard3" class="card border-danger mt-3 mb-3 d-none">
                <div class="card-body text-danger">
                  <p id="warningText3" class="card-text"></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- footer -->
    <footer class="mt-auto py-3 bg-primary text-bg-primary text-center">
      <p class="m-0 py-0 px-4">
        Created by Min Thit Khine for Educational Purposes in Backend Development. Genshin and Genshin character names are trademarks of
        miHoYo Co., Ltd. Artworks are from hoyoLab.
      </p>
    </footer>

    <!-- JS -->
    <script src="js/commands/queryCmds.js" type="text/javascript"></script>
    <script src="js/commands/getCurrentUrl.js" type="text/javascript"></script>
    <script src="js/userNavbarToggle.js" type="text/javascript"></script>
    <script src="js/token/verifyToken.js" type="text/javascript"></script>
    <script src="js/commands/profileDivToggle.js" type="text/javascript"></script>
    <script src="js/showUserInfos.js" type="text/javascript"></script>
    <script src="js/showMessages.js" type="text/javascript"></script>
    <script src="js/editUser.js" type="text/javascript"></script>
    <script src="js/editPasswd.js" type="text/javascript"></script>
    <script src="js/editMessage.js" type="text/javascript"></script>
    <script src="js/deleteUser.js" type="text/javascript"></script>
    <script src="js/token/refreshToken.js" type="text/javascript"></script>
  </body>
</html>
